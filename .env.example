# ==============================================================================
# Local Mind - Environment Configuration
# ==============================================================================
# Copy this file to .env and fill in your values:
#   cp .env.example .env
#
# All values below are SAMPLE VALUES that work out of the box.
# ==============================================================================

# ==============================================================================
# Core Application
# ==============================================================================
APP_NAME=LocalMind
APP_ENV=development
DEBUG=true
LOG_LEVEL=INFO

# API Server
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4

# Frontend
FRONTEND_PORT=3000
NEXT_PUBLIC_API_URL=http://localhost:8000

# ==============================================================================
# Neo4j - Knowledge Graph Database
# ==============================================================================
# SECURITY WARNING: Change NEO4J_PASSWORD before deploying to production!
# Generate a strong password with: openssl rand -base64 32
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=CHANGE_ME_IN_PRODUCTION

# Neo4j Browser: http://localhost:7474
NEO4J_BROWSER_PORT=7474
NEO4J_BOLT_PORT=7687

# ==============================================================================
# Milvus - Vector Database
# ==============================================================================
MILVUS_HOST=localhost
MILVUS_PORT=19530
MILVUS_COLLECTION=document_chunks

# Embedding settings
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
EMBEDDING_DIMENSION=384

# ==============================================================================
# Redis - Task Queue & Cache
# ==============================================================================
REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379

# Celery settings
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/1

# ==============================================================================
# LLM - Language Model (vLLM)
# ==============================================================================
LLM_MODEL=meta-llama/Llama-3.2-8B-Instruct
LLM_BASE_URL=http://localhost:8001/v1
LLM_API_KEY=not-needed-for-local

# vLLM Performance Tuning
# See VRAM table in README.md for your GPU
VLLM_GPU_MEMORY_UTILIZATION=0.7
VLLM_MAX_MODEL_LEN=4096
VLLM_ENFORCE_EAGER=false

# Quantization: none, 4bit, 8bit
# Use 4bit for GPUs with 8-12GB VRAM
QUANTIZATION=none

# Context window (reduce for low VRAM)
CONTEXT_WINDOW=4096

# ==============================================================================
# TTS - Text-to-Speech (Kokoro)
# ==============================================================================
TTS_ENABLED=true
TTS_BASE_URL=http://localhost:8880
TTS_MODEL=kokoro-82m

# Voice settings
TTS_DEFAULT_VOICE=af_sarah
TTS_SAMPLE_RATE=24000

# ==============================================================================
# Document Processing
# ==============================================================================
# Chunk settings
CHUNK_SIZE_TOKENS=500
CHUNK_OVERLAP_TOKENS=50

# Supported formats
ALLOWED_EXTENSIONS=pdf,txt,md,docx

# Max file size (bytes) - 50MB default
MAX_FILE_SIZE=52428800

# ==============================================================================
# Search & Retrieval
# ==============================================================================
# Hybrid search weights (must sum to 1.0)
VECTOR_WEIGHT=0.5
GRAPH_WEIGHT=0.5

# RRF constant (higher = more uniform ranking)
RRF_K=60

# Max results
TOP_K_RESULTS=10

# ==============================================================================
# Podcast Generation
# ==============================================================================
PODCAST_DEFAULT_DURATION=300
PODCAST_HOST_1_NAME=Alex
PODCAST_HOST_2_NAME=Sarah
PODCAST_HOST_1_VOICE=am_michael
PODCAST_HOST_2_VOICE=af_sarah

# ==============================================================================
# Security
# ==============================================================================
# SECURITY WARNING: Generate a unique secret key for production!
# Generate with: openssl rand -hex 32
SECRET_KEY=CHANGE_ME_GENERATE_WITH_OPENSSL_RAND

# CORS origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# Rate limiting
RATE_LIMIT_PER_MINUTE=60

# ==============================================================================
# Storage Paths
# ==============================================================================
DATA_DIR=./data
MODELS_DIR=./data/models
UPLOADS_DIR=./data/uploads
CACHE_DIR=./data/cache

# ==============================================================================
# Monitoring (Optional)
# ==============================================================================
# Sentry DSN for error tracking (leave empty to disable)
SENTRY_DSN=

# Prometheus metrics
ENABLE_METRICS=true
METRICS_PORT=9090

# ==============================================================================
# Container Settings (used by compose.yaml)
# ==============================================================================
COMPOSE_PROJECT_NAME=localmind
CONTAINER_NAMESPACE=localmind-ai

# GPU Configuration
NVIDIA_VISIBLE_DEVICES=all
