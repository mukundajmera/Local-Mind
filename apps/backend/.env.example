# ==============================================================================
# Local Mind Backend - Environment Configuration
# ==============================================================================
# Copy this file to .env and fill in your values:
#   cp .env.example .env
# ==============================================================================

# ==============================================================================
# Core API Settings
# ==============================================================================
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
DEBUG=true
LOG_LEVEL=INFO

# ==============================================================================
# Database Connections
# ==============================================================================
# Neo4j - Knowledge Graph
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=localmind2024

# Milvus - Vector Database
MILVUS_HOST=localhost
MILVUS_PORT=19530
MILVUS_COLLECTION=document_chunks

# Redis - Task Queue & Cache
REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379

# ==============================================================================
# LLM Configuration (LM Studio for M3 GPU)
# ==============================================================================
LLM_PROVIDER=lmstudio
LLM_MODEL=openai/gpt-oss-20b
LLM_BASE_URL=http://127.0.0.1:1234/v1
LLM_API_KEY=not-needed-for-local
CONTEXT_WINDOW=4096

# ==============================================================================
# Embeddings
# ==============================================================================
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
EMBEDDING_DIMENSION=384

# ==============================================================================
# Document Processing
# ==============================================================================
CHUNK_SIZE_TOKENS=500
CHUNK_OVERLAP_TOKENS=50
ALLOWED_EXTENSIONS=pdf,txt,md,docx
MAX_FILE_SIZE=52428800

# ==============================================================================
# Search & Retrieval
# ==============================================================================
VECTOR_WEIGHT=0.5
GRAPH_WEIGHT=0.5
RRF_K=60
TOP_K_RESULTS=10

# ==============================================================================
# Celery Task Queue
# ==============================================================================
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/1

# ==============================================================================
# Security
# ==============================================================================
# Generate with: openssl rand -hex 32
SECRET_KEY=your-secret-key-change-in-production
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000
RATE_LIMIT_PER_MINUTE=60

# ==============================================================================
# Storage Paths
# ==============================================================================
DATA_DIR=../../data
UPLOADS_DIR=../../data/uploads
CACHE_DIR=../../data/cache

# ==============================================================================
# Monitoring (Optional)
# ==============================================================================
SENTRY_DSN=
ENABLE_METRICS=true
METRICS_PORT=9090
