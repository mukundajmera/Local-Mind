# ==============================================================================
# Local Mind - Environment Configuration
# ==============================================================================
# Copy this file to .env and fill in your values:
#   cp .env.example .env
#
# All values below are SAMPLE VALUES that work out of the box.
# ==============================================================================

# ==============================================================================
# Core Application
# ==============================================================================
APP_NAME=LocalMind
APP_ENV=development
DEBUG=true
LOG_LEVEL=INFO

# API Server
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4

# Frontend
FRONTEND_PORT=3000
NEXT_PUBLIC_API_URL=http://localhost:8000

# ==============================================================================
# Neo4j - Knowledge Graph Database
# ==============================================================================
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=mysupersecretneo4jpassword

# Neo4j Browser: http://localhost:7474
NEO4J_BROWSER_PORT=7474
NEO4J_BOLT_PORT=7687

# ==============================================================================
# Milvus - Vector Database
# ==============================================================================
MILVUS_HOST=localhost
MILVUS_PORT=19530
MILVUS_COLLECTION=document_chunks

# Embedding settings
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
EMBEDDING_DIMENSION=384

# ==============================================================================
# Redis - Task Queue & Cache
# ==============================================================================
REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379

# Celery settings
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/1

# ==============================================================================
# LLM - Language Model (LM Studio with M3 GPU)
# ==============================================================================
# Using LM Studio for native M3 Metal GPU acceleration
LLM_PROVIDER=lmstudio
LLM_MODEL=openai/gpt-oss-20b
LLM_BASE_URL=http://127.0.0.1:1234/v1
LLM_API_KEY=not-needed-for-local

# Context window (LM Studio auto-detects based on model)
CONTEXT_WINDOW=4096

# ==============================================================================
# TTS - Text-to-Speech
# ==============================================================================
# TTS disabled for now (can be re-enabled with native macOS solution later)
TTS_ENABLED=false
TTS_BASE_URL=http://localhost:8880
TTS_MODEL=kokoro-82m

# ==============================================================================
# Document Processing
# ==============================================================================
# Chunk settings
CHUNK_SIZE_TOKENS=500
CHUNK_OVERLAP_TOKENS=50

# Supported formats
ALLOWED_EXTENSIONS=pdf,txt,md,docx

# Max file size (bytes) - 50MB default
MAX_FILE_SIZE=52428800

# ==============================================================================
# Search & Retrieval
# ==============================================================================
# Hybrid search weights (must sum to 1.0)
VECTOR_WEIGHT=0.5
GRAPH_WEIGHT=0.5

# RRF constant (higher = more uniform ranking)
RRF_K=60

# Max results
TOP_K_RESULTS=10

# ==============================================================================
# Podcast Generation
# ==============================================================================
PODCAST_DEFAULT_DURATION=300
PODCAST_HOST_1_NAME=Alex
PODCAST_HOST_2_NAME=Sarah
PODCAST_HOST_1_VOICE=am_michael
PODCAST_HOST_2_VOICE=af_sarah

# ==============================================================================
# Security
# ==============================================================================
# Generate with: openssl rand -hex 32
SECRET_KEY=your-secret-key-change-in-production-abc123
# Required for MinIO
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadminpassword123

# CORS origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# Rate limiting
RATE_LIMIT_PER_MINUTE=60

# ==============================================================================
# Storage Paths
# ==============================================================================
DATA_DIR=./data
MODELS_DIR=./data/models
UPLOADS_DIR=./data/uploads
CACHE_DIR=./data/cache

# ==============================================================================
# Monitoring (Optional)
# ==============================================================================
# Sentry DSN for error tracking (leave empty to disable)
SENTRY_DSN=

# Prometheus metrics
ENABLE_METRICS=true
METRICS_PORT=9090

# ==============================================================================
# Container Settings (used by compose.yaml)
# ==============================================================================
COMPOSE_PROJECT_NAME=localmind
CONTAINER_NAMESPACE=localmind-ai

# GPU Configuration
NVIDIA_VISIBLE_DEVICES=all
